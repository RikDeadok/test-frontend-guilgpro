(()=>{"use strict";document.querySelectorAll("._list").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),e.classList.toggle("open")}))}));const e=document.querySelector(".time-nav__button"),t=document.querySelector(".timeline__container");function n(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=n.frequency||1e3,l=n.timeout||5e3;let c=0;const i=setInterval((()=>{const n=e();c+=o,!0===n?(clearInterval(i),t()):c>=l&&(clearInterval(i),console.log("Максимальное время ожидания. Нет значений больше 0,8"))}),o)}function o(){const e=Math.random();return console.log(e),e>.8}function l(){console.log("Функция поймала значение больше 0.8!")}e.addEventListener("click",(function(){const e=document.querySelector('.time-nav__input[name="year"]'),n=document.querySelector('.time-nav__input[name="quarter"]'),o=parseInt(e.value),l=parseInt(n.value),c=new Date(o,3*(l-1),1),i=new Date(o,3*l,0),a=[],s=new Date(c);for(;s<=i;){const e=s.toLocaleString("default",{month:"long"}),t=Math.ceil(((s-new Date(s.getFullYear(),0,1))/864e5+1)/7),n=s.getDate();let o=a.find((t=>t.month===e));o||(o={month:e,weeks:[]},a.push(o));let l=o.weeks.find((e=>e[`${t} week`]));l||(l={[`${t} week`]:[]},o.weeks.push(l)),l[`${t} week`].push(n),s.setDate(s.getDate()+1)}console.log(a),function(){let e="";e+='<div class="_row">',a.forEach((t=>{e+=`<div class="_column timeline__mounth">${t.month}`,e+='<div class="_row">',t.weeks.forEach((t=>{const n=Object.keys(t)[0];e+=`<div class="_column timeline__weak">${n}`,e+='<div class="_row">',t[n].forEach((t=>{e+=`<div class="_column timeline__day">${t}</div>`})),e+="</div>",e+="</div>"})),e+="</div>",e+="</div>"})),e+="</div>",t.innerHTML=e}()})),n(o,l,{frequency:2e3,timeout:1e4});const c=document.getElementById("checkAndExecuteFunc"),i=document.getElementById("checkFunctionFunk"),a=document.getElementById("callbackFunctionFunk"),s=document.getElementById("checkAndExecuteFunk");c.textContent=`function ${n}`,i.textContent=`function ${o}`,a.textContent=`function ${l}`,s.textContent=`${n}`,Prism.highlightElement(c),Prism.highlightElement(i),Prism.highlightElement(a),Prism.highlightElement(s);const r=document.querySelectorAll(".scale__unit"),d=document.querySelectorAll(".scale__slider"),u=document.querySelector(".scale__button");let m=null;for(let e of d)e.addEventListener("dragstart",v),e.addEventListener("dragend",h);for(const e of r)e.addEventListener("dragover",g),e.addEventListener("dragenter",f),e.addEventListener("dragleave",_),e.addEventListener("drop",E);function v(e){m=e.target,setTimeout((()=>m.classList.add("hide")),0)}function h(e){m.classList.remove("hide")}function g(e){e.preventDefault()}function f(e){e.target.classList.add("hovered")}function _(e){e.target.classList.remove("hovered")}function E(e){e.target.classList.contains("scale__unit")&&(e.target.appendChild(m),m.classList.remove("hide"),e.target.classList.remove("hovered"))}function p(e){const t=e.parentElement.previousElementSibling;null!==t&&t.classList.contains("scale__unit")?t.appendChild(e):clearInterval(e.interval)}u.addEventListener("click",(()=>{for(let e of d){let t=parseInt(e.parentElement.id.split("-")[2]);e.interval=setInterval((()=>{t>1?(t-=1,p(e)):clearInterval(e.interval)}),1e3)}}))})();