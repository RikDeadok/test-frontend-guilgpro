(()=>{"use strict";document.querySelectorAll("._list").forEach((e=>{e.addEventListener("click",(t=>{t.stopPropagation(),e.classList.toggle("open")}))}));const e=document.querySelector(".time-nav__button"),t=document.querySelector(".timeline__container");e.addEventListener("click",(function(){const e=document.querySelector('.time-nav__input[name="year"]'),n=document.querySelector('.time-nav__input[name="quarter"]'),c=parseInt(e.value),o=parseInt(n.value),l=new Date(c,3*(o-1),1),i=new Date(c,3*o,0),a=[],r=new Date(l);for(;r<=i;){const e=r.toLocaleString("default",{month:"long"}),t=Math.ceil(((r-new Date(r.getFullYear(),0,1))/864e5+1)/7),n=r.getDate();let c=a.find((t=>t.month===e));c||(c={month:e,weeks:[]},a.push(c));let o=c.weeks.find((e=>e[`${t} неделя`]));o||(o={[`${t} неделя`]:[]},c.weeks.push(o)),o[`${t} неделя`].push(n),r.setDate(r.getDate()+1)}console.log(a),function(){let e="";e+='<div class="_row">',a.forEach((t=>{e+=`<div class="_column timeline__mounth">${t.month}`,e+='<div class="_row">',t.weeks.forEach((t=>{const n=Object.keys(t)[0];e+=`<div class="_column timeline__weak">${n}`,e+='<div class="_row">',t[n].forEach((t=>{e+=`<div class="_column timeline__day">${t}</div>`})),e+="</div>",e+="</div>"})),e+="</div>",e+="</div>"})),e+="</div>",t.innerHTML=e}()})),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=n.frequency||1e3,o=n.timeout||5e3;let l=0;const i=setInterval((()=>{const n=e();l+=c,!0===n?(clearInterval(i),t()):l>=o&&(clearInterval(i),console.log("Максимальное время ожидания. Нет значений больше 0,8"))}),c)}((function(){const e=Math.random();return console.log(e),e>.8}),(function(){console.log("Функция поймала значение больше 0.8!")}),{frequency:2e3,timeout:1e4});const n=document.getElementById("checkAndExecuteFunc"),c=document.getElementById("checkFunctionFunk"),o=document.getElementById("callbackFunctionFunk"),l=document.getElementById("checkAndExecuteFunk");n.textContent="function checkAndExecute(checkFunction, callbackFunction, options = {}) {\n  const frequency = options.frequency || 1000;\n  const timeout = options.timeout || 5000;\n\n  let elapsedTime = 0;\n  const intervalId = setInterval(() => {\n    const result = checkFunction();\n    elapsedTime += frequency;\n\n    if (result === true) {\n      clearInterval(intervalId);\n      callbackFunction();\n    } else if (elapsedTime >= timeout) {\n      clearInterval(intervalId);\n      console.log('Максимальное время ожидания. Нет значений больше 0,8');\n    }\n  }, frequency);\n}",c.textContent="function checkFunction() {\n  const randomNumber = Math.random();\n  console.log(randomNumber);\n  return randomNumber > 0.8;\n}",o.textContent="function callbackFunction() {\n  console.log('Функция поймала значение больше 0.8!');\n}",l.textContent="checkAndExecute(checkFunction, callbackFunction, {\n  frequency: 2000,\n  timeout: 10000,\n});",Prism.highlightElement(n),Prism.highlightElement(c),Prism.highlightElement(o),Prism.highlightElement(l);const i=document.querySelectorAll(".scale__unit"),a=document.querySelectorAll(".scale__slider"),r=document.querySelector(".scale__button");let s=null;for(let e of a)e.addEventListener("dragstart",u),e.addEventListener("dragend",d);for(const e of i)e.addEventListener("dragover",m),e.addEventListener("dragenter",v),e.addEventListener("dragleave",h),e.addEventListener("drop",g);function u(e){s=e.target,setTimeout((()=>s.classList.add("hide")),0)}function d(e){s.classList.remove("hide")}function m(e){e.preventDefault()}function v(e){e.target.classList.add("hovered")}function h(e){e.target.classList.remove("hovered")}function g(e){e.target.classList.contains("scale__unit")&&(e.target.appendChild(s),s.classList.remove("hide"),e.target.classList.remove("hovered"))}function f(e){const t=e.parentElement.previousElementSibling;null!==t&&t.classList.contains("scale__unit")?t.appendChild(e):clearInterval(e.interval)}r.addEventListener("click",(()=>{for(let e of a){let t=parseInt(e.parentElement.id.split("-")[2]);e.interval=setInterval((()=>{t>1?(t-=1,f(e)):clearInterval(e.interval)}),1e3)}}))})();